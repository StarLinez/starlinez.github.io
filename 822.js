"use strict";(self.webpackChunkRandomProject=self.webpackChunkRandomProject||[]).push([[822],{99822:(P,c,r)=>{r.r(c),r.d(c,{MaplestoryTrackerDailyModule:()=>x});var l=r(60177),g=r(66859),e=r(54438),h=r(345),d=r(59292),p=r(60813),f=r(65658),m=r(96784),C=r(62708),u=r(29576);function M(n,O){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"app-task-group",6),e.bIt("changeEvent",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.changeHandler())}),e.k0s(),e.bVm()}if(2&n){const t=O.$implicit,a=e.XpG();e.R7$(),e.Y8G("editMode",a.editMode)("taskGroup",t)("imagePrefix",a.generalData.trackerInfo.dailyImagePrefix)("resetUtcOffset",a.generalData.mapleRegion.resetUtcOffset)}}const k=[{path:"",component:(()=>{class n{constructor(t,a,i,o){this.titleService=t,this.metaService=a,this.generalDataService=i,this.taskService=o,this.editMode=!1}ngOnInit(){this.titleService.setTitle("Maplestory Dailies Tracker | Random Stuff"),this.metaService.updateTag({name:"description",content:"A dailies tracker for Maplestory to keep track of your completed daily tasks. Keep track of your dailies across multiple different characters."}),this.metaService.getTag("name='robots'")?this.metaService.updateTag({name:"robots",content:"index, follow"}):this.metaService.addTag({name:"robots",content:"index, follow"}),this.initialise()}ngOnDestroy(){}initialise(){localStorage.getItem("generalData")?(this.generalData=JSON.parse(localStorage.getItem("generalData")),this.taskService.dailyUpdateChecker(this.generalData),this.dailyResetChecker(),this.fetchSelectedUserData()):(this.generalData=this.generalDataService.initiateDataSet(),this.fetchSelectedUserData()),this.startTimer()}fetchSelectedUserData(){this.selectedCharacter=localStorage.getItem(this.generalData.characters[this.generalData.selectedCharacterIndex].characterStorageReference)?JSON.parse(localStorage.getItem(this.generalData.characters[this.generalData.selectedCharacterIndex].characterStorageReference)):this.generalDataService.addCharacterWithExistingReference(this.generalData.characters[this.generalData.selectedCharacterIndex].characterStorageReference)}dailyResetChecker(){var t=this.calculateResetTime()-864e5;parseInt(this.generalData.trackerInfo.lastDailyTrackerVisit)<t&&this.taskService.resetDailyCompletion(this.generalData),this.generalData.trackerInfo.lastDailyTrackerVisit=Date.now().toString(),this.generalDataChangeHandler()}startTimer(){clearInterval(this.timer);var t=this.calculateResetTime();this.calculateAndOutPutTime(t-(new Date).getTime()),this.timer=setInterval(()=>{var a=t-(new Date).getTime();this.calculateAndOutPutTime(a),a<0&&(clearInterval(this.timer),this.liveReset())},1e3)}calculateResetTime(){var t=new Date,a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()+1,0,0,0,0);return(a-=60*this.generalData.mapleRegion.resetUtcOffset*60*1e3)<t.getTime()&&(a+=864e5),a}calculateAndOutPutTime(t){if(t<0)this.timerString="RESET!";else{var a=Math.floor(t%864e5/36e5),i=Math.floor(t%36e5/6e4),o=Math.floor(t%6e4/1e3);this.timerString="Daily reset in "+a+" hours "+i+" minutes "+("00"+o).slice(-2)+" seconds"}}liveReset(){this.taskService.resetDailyCompletion(this.generalData),this.startTimer(),this.generalData.trackerInfo.lastDailyTrackerVisit=(parseInt(Date.now().toString())+5e3).toString(),this.generalDataChangeHandler()}addCharacter(t){this.generalDataService.addCharacter(this.generalData,t)}switchCharacter(t){this.generalData.selectedCharacterIndex=t,this.generalDataChangeHandler(),this.fetchSelectedUserData()}changeHandler(){localStorage.setItem(this.generalData.characters[this.generalData.selectedCharacterIndex].characterStorageReference,JSON.stringify(this.selectedCharacter))}editModeChange(t){this.editMode=t}generalDataChangeHandler(){localStorage.setItem("generalData",JSON.stringify(this.generalData))}regionChangeHandler(){this.dailyResetChecker(),this.startTimer(),this.generalDataChangeHandler()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(h.hE),e.rXU(h.W8),e.rXU(d.K),e.rXU(p.R))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-maplestory-tracker-daily"]],decls:10,vars:4,consts:[[1,"background"],[3,"generalData","editMode","editModeChangeEvent","addCharacterEvent","switchCharacterEvent","regionChangeEvent"],[1,"timerWrapper"],[1,"timer"],[1,"taskWrapper"],[4,"ngFor","ngForOf"],[3,"editMode","taskGroup","imagePrefix","resetUtcOffset","changeEvent"]],template:function(a,i){1&a&&(e.nrm(0,"app-maplestory-navigation")(1,"div",0),e.j41(2,"app-task-titlebar",1),e.bIt("editModeChangeEvent",function(s){return i.editModeChange(s)})("addCharacterEvent",function(s){return i.addCharacter(s)})("switchCharacterEvent",function(s){return i.switchCharacter(s)})("regionChangeEvent",function(){return i.regionChangeHandler()}),e.k0s(),e.nrm(3,"app-tracker-navigation"),e.j41(4,"div",2)(5,"div",3)(6,"span"),e.EFF(7),e.k0s()()(),e.j41(8,"div",4),e.DNE(9,M,2,4,"ng-container",5),e.k0s()),2&a&&(e.R7$(2),e.Y8G("generalData",i.generalData)("editMode",i.editMode),e.R7$(5),e.JRh(i.timerString),e.R7$(2),e.Y8G("ngForOf",i.selectedCharacter.dailyTaskGroups))},dependencies:[l.Sq,f.O,m.c,C.C,u.Q],styles:[".background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-10;filter:blur(8px);-webkit-filter:blur(8px);background-image:url(TrackerBackground.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll}.titlebar[_ngcontent-%COMP%]{width:100%;height:80px;background-color:#ffffff80;display:flex;align-items:center}.titlebar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{height:41px;padding-left:32px;color:#393939;font-family:Lemon Milk,sans-serif;font-weight:500;font-size:30px}.titlebar[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-left:auto;margin-right:32px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:50px;border-radius:100px;border:none;font-weight:500;font-size:20px;color:#fff;font-family:Lemon Milk,sans-serif}.characterSelector[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;position:relative}.characterSelectorButton[_ngcontent-%COMP%]{width:230px;background-color:#7519ff;font-family:Lemon Milk,sans-serif;position:relative}.characterSelectorButton[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;transform:translateY(-5px)}.characterSelectorMenu[_ngcontent-%COMP%]{z-index:20;width:320px;padding-bottom:15px;background-color:#fff;border-radius:20px;position:absolute;right:0;top:60px;box-shadow:0 4px 4px #0000004d;color:#393939}.characterItem[_ngcontent-%COMP%]{display:flex;align-content:flex-end;width:281px;height:30px;line-height:30px;margin:10px auto 0;background-color:#f9f9f9;border-radius:10px;padding-left:10px}.character[_ngcontent-%COMP%]:hover{background-color:#ccc}.character[_ngcontent-%COMP%]:first-child{margin-top:15px}.characterItem[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:20px;margin-right:10px}.characterItem[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{transform:translateY(5px)}.character[_ngcontent-%COMP%]   .fa-edit[_ngcontent-%COMP%]{transform:translateY(6px)}.editCharacter[_ngcontent-%COMP%], .editCharacter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#e5f6e1}.deleteCharacter[_ngcontent-%COMP%], .deleteCharacter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f1c8c8}.addCharacter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f9}.name[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{margin-right:auto;font-family:Lemon Milk,sans-serif;font-weight:500px;font-size:15px}.characterItem[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none}.characterItem[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.plusIcon[_ngcontent-%COMP%]{font-size:20px;line-height:30px;margin-right:15px}.separator[_ngcontent-%COMP%]{width:280px;margin:10px auto;border-top:1px #F3F3F3 solid}.settings[_ngcontent-%COMP%]{width:90px;background-color:#9660e8;margin-left:16px;margin-bottom:1px}.settings[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:translateY(-1px)}.timerWrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}.timer[_ngcontent-%COMP%]{width:1375px;height:30px;background-color:#393939;border-radius:6px;font-size:15px;font-weight:500;font-family:Lemon Milk,sans-serif;text-align:center}.timer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-top:5px}.taskWrapper[_ngcontent-%COMP%]{width:1375px;margin:20px auto 0;display:-webkit-flexbox;display:flex;flex-flow:row wrap;-webkit-flex-pack:justify;justify-content:space-between}"]})}}return n})()}];let v=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[g.iI.forChild(k),g.iI]})}}return n})();var y=r(67436),D=r(38574);let x=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[l.MD,v,y.E,D.K]})}}return n})()}}]);